<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AVZ PropTech - GPS com Antecipação de Recebíveis</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Scripts do Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --black: #0a0a0a; --dark-black: #000000;
      --gold: #d4af37; --light-gold: #f4e4bc;
      --rose-gold: #e8b4b8; --white: #ffffff;
      --green: #4caf50; --red: #f44336;
      --rose-shadow: rgba(232, 180, 184, 0.5);
    }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #000 0%, #111 50%, #000 100%);
      color: var(--white); 
      display: flex; 
      flex-direction: column;
      align-items: center; 
      min-height: 100vh; 
      padding: 20px;
    }
    header { 
      width: 100%; 
      padding: 15px 0; 
      display: flex; 
      justify-content: center;
      background: rgba(0,0,0,0.6); 
      position: sticky; 
      top: 0; 
      z-index: 10; 
    }
    nav { 
      display: flex; 
      gap: 15px; 
      flex-wrap: wrap; 
      justify-content: center; 
      align-items: center;
    }
    nav a { 
      color: var(--white); 
      text-decoration: none; 
      font-weight: 500; 
      transition: 0.3s; 
      cursor: pointer; 
      padding: 8px 12px;
      border-radius: 6px;
    }
    nav a:hover { 
      color: var(--gold); 
      background: rgba(212, 175, 55, 0.1);
      box-shadow: 0 0 10px var(--rose-shadow);
    }
    h1 { 
      font-family: 'Playfair Display', serif; 
      font-size: 2.5rem; 
      margin: 20px 0;
      background: linear-gradient(135deg, var(--gold), var(--rose-gold));
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent; 
      text-align: center;
    }
    p.subtitle { 
      font-size: 1.2rem; 
      color: rgba(255,255,255,0.8); 
      margin-bottom: 30px; 
      text-align: center;
      max-width: 600px;
      line-height: 1.5;
    }
    .main-btn { 
      display: inline-block; 
      background: linear-gradient(135deg, var(--gold), var(--light-gold));
      color: var(--black); 
      font-size: 1.2rem; 
      font-weight: bold; 
      padding: 15px 35px;
      border-radius: 50px; 
      text-decoration: none; 
      margin-bottom: 30px; 
      transition: 0.3s; 
      cursor: pointer;
      box-shadow: 0 8px 20px var(--rose-shadow); 
      text-align: center;
    }
    .main-btn:hover { 
      transform: translateY(-3px); 
      box-shadow: 0 12px 28px var(--rose-shadow), 0 0 15px var(--rose-shadow); 
    }
    .divider { 
      width: 80%; 
      max-width: 600px;
      height: 2px; 
      margin: 20px auto;
      background: linear-gradient(90deg, var(--rose-gold), var(--gold), var(--rose-gold));
      border-radius: 2px; 
    }
    footer { 
      margin-top: 40px; 
      padding: 15px 0; 
      font-size: 0.85rem; 
      color: rgba(255,255,255,0.6); 
      text-align: center; 
      width: 100%;
    }

    /* Conteúdo Principal */
    .content {
      text-align: left;
      max-width: 1000px;
      width: 100%;
      margin: 20px 0;
    }

    .hero-section {
      text-align: center;
      padding: 40px 20px;
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      border: 1px solid var(--gold);
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      color: var(--gold);
      margin: 25px 0 15px 0;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(212, 175, 55, 0.3);
    }
    
    .section-content {
      margin-bottom: 25px;
      line-height: 1.6;
    }
    
    .section-content p {
      margin-bottom: 15px;
      color: rgba(255, 255, 255, 0.85);
    }
    
    .highlight-box {
      background: rgba(212, 175, 55, 0.1);
      border-left: 4px solid var(--gold);
      padding: 15px 20px;
      margin: 20px 0;
      border-radius: 0 8px 8px 0;
    }

    /* Como Funciona */
    .how-it-works {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin: 30px 0;
    }
    
    .step-card {
      flex: 1;
      min-width: 250px;
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 20px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      text-align: center;
    }
    
    .step-number {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--gold), var(--light-gold));
      color: var(--black);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
      font-weight: bold;
    }
    
    .step-title {
      font-weight: 600;
      color: var(--gold);
      margin-bottom: 10px;
    }

    /* Calculadora de Antecipação */
    .calculator {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin: 30px 0;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: var(--light-gold);
    }
    
    .form-group input {
      width: 100%;
      padding: 12px 15px;
      border-radius: 8px;
      border: 1px solid #444;
      background: #222;
      color: white;
      font-size: 1rem;
      transition: all 0.3s;
    }
    
    .form-group input:focus {
      outline: none;
      border-color: var(--rose-gold);
      box-shadow: 0 0 10px var(--rose-shadow);
    }
    
    .calculate-btn {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, var(--gold), var(--light-gold));
      color: var(--black);
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1.1rem;
      box-shadow: 0 6px 15px var(--rose-shadow);
      margin-bottom: 20px;
    }
    
    .calculate-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px var(--rose-shadow);
    }
    
    .result-box {
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 10px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      text-align: center;
    }
    
    .result-value {
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--light-gold);
      margin: 10px 0;
    }

    /* Termos de Uso */
    .terms-container {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin: 30px 0;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .terms-text {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.5;
    }

    /* Layout Principal */
    main {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 1200px;
    }

    /* Informações de Resgate */
    .withdrawal-info {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin: 30px 0;
    }
    
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .info-card {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      padding: 20px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      text-align: center;
    }
    
    .info-card h3 {
      color: var(--gold);
      margin-bottom: 15px;
    }
    
    .warning-box {
      background: rgba(244, 67, 54, 0.1);
      border-left: 4px solid var(--red);
      padding: 15px 20px;
      margin: 20px 0;
      border-radius: 0 8px 8px 0;
    }
    
    .benefits-list {
      list-style-type: none;
      margin: 20px 0;
    }
    
    .benefits-list li {
      padding: 10px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
    }
    
    .benefits-list li i {
      color: var(--gold);
      margin-right: 10px;
    }
    
    .progress-container {
      width: 100%;
      height: 20px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      margin: 20px 0;
      overflow: hidden;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--gold), var(--rose-gold));
      border-radius: 10px;
      width: 0%;
      transition: width 0.5s ease;
    }
    
    .info-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .info-row:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }

    /* Modal de Login/Registro */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }
    
    .modal-content {
      background: rgba(30, 30, 30, 0.95);
      border-radius: 15px;
      padding: 30px;
      border: 2px solid var(--gold);
      width: 90%;
      max-width: 450px;
      position: relative;
    }
    
    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      color: var(--white);
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    .auth-form {
      margin-top: 20px;
    }
    
    .auth-tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(212, 175, 55, 0.3);
    }
    
    .auth-tab {
      padding: 10px 20px;
      cursor: pointer;
      opacity: 0.7;
      transition: 0.3s;
    }
    
    .auth-tab.active {
      opacity: 1;
      border-bottom: 2px solid var(--gold);
      color: var(--gold);
    }
    
    .auth-form-content {
      display: none;
    }
    
    .auth-form-content.active {
      display: block;
    }
    
    .form-footer {
      margin-top: 20px;
      text-align: center;
      font-size: 0.9rem;
    }

    /* Pagamento */
    .payment-container {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin: 30px 0;
      display: none;
    }
    
    .payment-options {
      display: flex;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    
    .payment-option {
      flex: 1;
      min-width: 120px;
      padding: 15px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
      transition: 0.3s;
    }
    
    .payment-option:hover, .payment-option.selected {
      background: rgba(212, 175, 55, 0.1);
      border-color: var(--gold);
    }
    
    .payment-form {
      margin-top: 20px;
    }
    
    .card-element {
      background: #222;
      padding: 12px 15px;
      border-radius: 8px;
      border: 1px solid #444;
      margin-bottom: 20px;
    }

    /* Dashboard */
    .dashboard {
      display: none;
      width: 100%;
    }
    
    .user-info {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin-bottom: 30px;
    }
    
    .status-badge {
      display: inline-block;
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.9rem;
      margin-left: 15px;
    }
    
    .status-active {
      background: rgba(76, 175, 80, 0.2);
      color: var(--green);
    }
    
    .status-pending {
      background: rgba(255, 193, 7, 0.2);
      color: #ffc107;
    }
    
    .dashboard-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }
    
    .dashboard-card {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 20px;
      border: 1px solid rgba(212, 175, 55, 0.3);
    }
    
    .dashboard-card h3 {
      color: var(--gold);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }
    
    .dashboard-card h3 i {
      margin-right: 10px;
    }
    
    .dashboard-value {
      font-size: 1.8rem;
      font-weight: bold;
      color: var(--light-gold);
      margin: 10px 0;
    }

    /* Responsividade */
    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      p.subtitle {
        font-size: 1rem;
        padding: 0 15px;
      }
      .how-it-works {
        flex-direction: column;
      }
      nav {
        gap: 10px;
      }
      nav a {
        font-size: 0.9rem;
        padding: 6px 10px;
      }
      .main-btn {
        padding: 12px 25px;
        font-size: 1rem;
      }
      .section-title {
        font-size: 1.5rem;
      }
      .hero-section h2 {
        font-size: 1.6rem;
      }
      .info-grid {
        grid-template-columns: 1fr;
      }
      .payment-options {
        flex-direction: column;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 1.8rem;
      }
      .hero-section {
        padding: 25px 15px;
      }
      .hero-section h2 {
        font-size: 1.4rem;
      }
      .step-card, .calculator, .withdrawal-info {
        padding: 20px 15px;
      }
      header {
        padding: 10px 0;
      }
      nav a {
        font-size: 0.8rem;
      }
      body {
        padding: 15px;
      }
      .modal-content {
        padding: 20px 15px;
      }
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <a style="color: var(--gold);"><i class="fas fa-map-marked-alt"></i> GPS com Antecipação</a>
      <a onclick="showAuthModal()" id="login-link"><i class="fas fa-user"></i> Entrar</a>
      <a onclick="showDashboard()" id="dashboard-link" style="display: none;"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
      <a onclick="logout()" id="logout-link" style="display: none;"><i class="fas fa-sign-out-alt"></i> Sair</a>
    </nav>
  </header>

  <main>
    <h1>AVZ PropTech</h1>
    <p class="subtitle">GPS Premium com Antecipação de Recebíveis</p>
    
    <div class="hero-section">
      <h2 style="font-family: 'Playfair Display', serif; margin-bottom: 20px; color: var(--gold);">
        Transforme seus trajetos em rendimentos
      </h2>
      <p style="font-size: 1.1rem; margin-bottom: 25px; max-width: 800px; margin-left: auto; margin-right: auto;">
        Use nosso GPS premium e receba antecipação de recebíveis com retorno garantido. 
        Contribua para projetos sustentáveis e receba benefícios diários.
      </p>
      <a class="main-btn" onclick="showCalculator()">
        <i class="fas fa-calculator"></i> Calcular Antecipação
      </a>
    </div>

    <div class="content">
      <h2 class="section-title">Como Funciona</h2>
      <div class="how-it-works">
        <div class="step-card">
          <div class="step-number">1</div>
          <div class="step-title">Calcule sua Antecipação</div>
          <p>Informe seus dados e veja quanto poderá receber.</p>
        </div>
        
        <div class="step-card">
          <div class="step-number">2</div>
          <div class="step-title">Desbloqueie o GPS</div>
          <p>Concorde com os termos e desbloqueie o sistema.</p>
        </div>
        
        <div class="step-card">
          <div class="step-number">3</div>
          <div class="step-title">Use e Ganhe</div>
          <p>Use o GPS diariamente e acumule rendimentos.</p>
        </div>
        
        <div class="step-card">
          <div class="step-number">4</div>
          <div class="step-title">Resgate seus Ganhos</div>
          <p>Resgate a partir de R$ 100,00 a qualquer momento.</p>
        </div>
      </div>

      <div class="calculator" id="calculator">
        <h2 class="section-title">Calcule sua Antecipação</h2>
        
        <div class="form-group">
          <label for="contribution-value">Valor que deseja contribuir:</label>
          <input type="number" id="contribution-value" placeholder="R$ 0,00" min="100" step="100">
        </div>
        
        <div class="form-group">
          <label for="usage-days">Dias de uso previsto por semana:</label>
          <input type="number" id="usage-days" placeholder="Dias (0-7)" min="0" max="7">
        </div>
        
        <button class="calculate-btn" onclick="calculateEarnings()">
          <i class="fas fa-calculator"></i> Calcular Projeção
        </button>
        
        <div class="result-box" id="result-box" style="display: none;">
          <h3>Projeção de Rendimentos</h3>
          
          <div class="info-row">
            <span>Valor Contribuído:</span>
            <span id="contribution-display">R$ 0,00</span>
          </div>
          
          <div class="info-row">
            <span>Retorno Mensal:</span>
            <span id="monthly-return">R$ 0,00</span>
          </div>
          
          <div class="info-row">
            <span>Total em 6 meses:</span>
            <span id="total-return">R$ 0,00</span>
          </div>
          
          <div class="info-row">
            <span>Percentual de Retorno:</span>
            <span id="return-percentage">0%</span>
          </div>
          
          <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
          </div>
          <p>Progresso de Retorno: <span id="progress-text">0%</span></p>
          
          <div class="divider"></div>
          
          <button class="main-btn" onclick="showTerms()" id="unlock-btn">
            <i class="fas fa-unlock"></i> Desbloquear GPS Premium
          </button>
        </div>
      </div>

      <div class="withdrawal-info">
        <h2 class="section-title">Condições de Resgate</h2>
        
        <div class="warning-box">
          <p><i class="fas fa-exclamation-circle"></i> <strong>Importante:</strong> Caso não utilizar o saldo com o lucro devido, estará disponível para resgate em até 6 meses. Usufruindo do app, terá todos os dias reservado para resgate a partir do saque mínimo de R$ 100,00.</p>
        </div>
        
        <div class="info-grid">
          <div class="info-card">
            <h3><i class="fas fa-calendar"></i> Resgate Programado</h3>
            <p>Seus rendimentos são divididos em 6 parcelas mensais, com datas de resgate definidas.</p>
          </div>
          
          <div class="info-card">
            <h3><i class="fas fa-wallet"></i> Saque Mínimo</h3>
            <p>Resgates a partir de R$ 100,00, com processamento em até 3 dias úteis.</p>
          </div>
          
          <div class="info-card">
            <h3><i class="fas fa-chart-line"></i> Rendimento Diário</h3>
            <p>Seus ganhos são calculados e acumulados diariamente com base no uso do GPS.</p>
          </div>
        </div>
        
        <h3 class="section-title">Vantagens Exclusivas</h3>
        <ul class="benefits-list">
          <li><i class="fas fa-check"></i> Isenção de taxas para saques acima de R$ 500,00</li>
          <li><i class="fas fa-check"></i> Rendimento adicional para uso frequente</li>
          <li><i class="fas fa-check"></i> Suporte prioritário 24/7</li>
          <li><i class="fas fa-check"></i> Participação em projetos sustentáveis</li>
          <li><i class="fas fa-check"></i> Bônus por indicação de novos usuários</li>
        </ul>
      </div>

      <div class="terms-container" id="terms-container" style="display: none;">
        <h3 class="section-title">Termos de Uso e Contrato</h3>
        <div class="terms-text">
          <p>Ao desbloquear o GPS Premium da AVZ PropTech, você concorda com os seguintes termos:</p>
          <p>1. O valor contribuído será destinado a projetos de mobilidade urbana sustentável.</p>
          <p>2. Os rendimentos são calculados com base no uso efetivo do aplicativo de GPS.</p>
          <p>3. O resgate dos valores está condicionado ao atingimento do valor mínimo de R$ 100,00.</p>
          <p>4. Em caso de não utilização do aplicativo, o valor ficará retido por 6 meses para resgate.</p>
          <p>5. Os rendimentos são divididos em 6 parcelas mensais com datas específicas de resgate.</p>
          <p>6. A AVZ PropTech se reserva o direito de alterar as condições mediante comunicação prévia.</p>
          <p>7. Taxas administrativas podem ser aplicadas para resgates inferiores a R$ 500,00.</p>
        </div>
        
        <div class="divider"></div>
        
        <button class="main-btn" onclick="acceptTerms()" id="accept-terms-btn">
          <i class="fas fa-check-circle"></i> Aceitar Termos e Desbloquear
        </button>
      </div>

      <div class="payment-container" id="payment-container">
        <h2 class="section-title">Finalizar Aquisição</h2>
        
        <div class="info-row">
          <span>Produto:</span>
          <span>GPS Premium AVZ PropTech</span>
        </div>
        
        <div class="info-row">
          <span>Valor:</span>
          <span id="payment-value">R$ 0,00</span>
        </div>
        
        <div class="info-row">
          <span>Forma de Pagamento:</span>
          <span id="selected-payment">Selecione uma opção</span>
        </div>
        
        <h3 class="section-title">Selecione a Forma de Pagamento</h3>
        
        <div class="payment-options">
          <div class="payment-option" onclick="selectPayment('pix')">
            <i class="fas fa-qrcode" style="font-size: 2rem; margin-bottom: 10px;"></i>
            <p>PIX</p>
          </div>
          
          <div class="payment-option" onclick="selectPayment('credit')">
            <i class="fas fa-credit-card" style="font-size: 2rem; margin-bottom: 10px;"></i>
            <p>Cartão de Crédito</p>
          </div>
          
          <div class="payment-option" onclick="selectPayment('boleto')">
            <i class="fas fa-barcode" style="font-size: 2rem; margin-bottom: 10px;"></i>
            <p>Boleto</p>
          </div>
        </div>
        
        <div id="pix-payment" class="payment-form" style="display: none;">
          <div class="highlight-box">
            <p><i class="fas fa-info-circle"></i> Pagamento instantâneo e seguro via PIX</p>
          </div>
          
          <div style="text-align: center; margin: 20px 0;">
            <div id="pix-qrcode" style="width: 200px; height: 200px; background: #fff; margin: 0 auto; display: flex; justify-content: center; align-items: center; border-radius: 10px;">
              <span style="color: #000;">QR Code PIX</span>
            </div>
            <p style="margin-top: 15px; font-size: 0.9rem;">Escaneie o QR Code com seu app bancário</p>
          </div>
          
          <div class="form-group">
            <label for="pix-key">Chave PIX (CPF/CNPJ):</label>
            <input type="text" id="pix-key" placeholder="000.000.000-00" disabled value="22.333.444/0001-55">
          </div>
          
          <button class="calculate-btn" onclick="simulatePayment('pix')">
            <i class="fas fa-check"></i> Simular Pagamento PIX
          </button>
        </div>
        
        <div id="credit-payment" class="payment-form" style="display: none;">
          <div class="highlight-box">
            <p><i class="fas fa-info-circle"></i> Pagamento seguro com cartão de crédito</p>
          </div>
          
          <div class="form-group">
            <label for="card-number">Número do Cartão:</label>
            <input type="text" id="card-number" placeholder="0000 0000 0000 0000">
          </div>
          
          <div style="display: flex; gap: 15px;">
            <div class="form-group" style="flex: 1;">
              <label for="card-expiry">Validade:</label>
              <input type="text" id="card-expiry" placeholder="MM/AA">
            </div>
            
            <div class="form-group" style="flex: 1;">
              <label for="card-cvv">CVV:</label>
              <input type="text" id="card-cvv" placeholder="000">
            </div>
          </div>
          
          <div class="form-group">
            <label for="card-name">Nome no Cartão:</label>
            <input type="text" id="card-name" placeholder="Como está no cartão">
          </div>
          
          <div class="form-group">
            <label for="card-cpf">CPF do Titular:</label>
            <input type="text" id="card-cpf" placeholder="000.000.000-00">
          </div>
          
          <button class="calculate-btn" onclick="simulatePayment('credit')">
            <i class="fas fa-check"></i> Simular Pagamento com Cartão
          </button>
        </div>
        
        <div id="boleto-payment" class="payment-form" style="display: none;">
          <div class="highlight-box">
            <p><i class="fas fa-info-circle"></i> Boleto bancário - pagável em qualquer banco</p>
          </div>
          
          <div style="text-align: center; margin: 20px 0;">
            <div id="boleto-code" style="background: #fff; color: #000; padding: 15px; border-radius: 5px; font-family: monospace; font-size: 0.9rem;">
              23793.38128 60000.000005 00000.000000 1 83620000010000
            </div>
            <p style="margin-top: 15px; font-size: 0.9rem;">Vencimento: 10/12/2023</p>
          </div>
          
          <button class="calculate-btn" onclick="simulatePayment('boleto')">
            <i class="fas fa-check"></i> Simular Pagamento com Boleto
          </button>
        </div>
      </div>

      <div class="dashboard" id="dashboard">
        <h2 class="section-title">Dashboard do Usuário</h2>
        
        <div class="user-info">
          <h3>Olá, <span id="user-name">Usuário</span> <span class="status-badge status-active" id="user-status">Ativo</span></h3>
          <p>Email: <span id="user-email">usuario@email.com</span></p>
          <p>ID do Cliente: <span id="user-id">000001</span></p>
        </div>
        
        <div class="dashboard-cards">
          <div class="dashboard-card">
            <h3><i class="fas fa-wallet"></i> Saldo Disponível</h3>
            <div class="dashboard-value" id="available-balance">R$ 0,00</div>
            <p>Valor disponível para resgate</p>
          </div>
          
          <div class="dashboard-card">
            <h3><i class="fas fa-chart-line"></i> Rendimentos Acumulados</h3>
            <div class="dashboard-value" id="total-earnings">R$ 0,00</div>
            <p>Total já ganho com o GPS</p>
          </div>
          
          <div class="dashboard-card">
            <h3><i class="fas fa-road"></i> KM Percorridos</h3>
            <div class="dashboard-value" id="total-km">0 KM</div>
            <p>Distância percorrida usando o GPS</p>
          </div>
        </div>
        
        <div class="withdrawal-info">
          <h3 class="section-title">Acessar GPS Premium</h3>
          <p>Seu GPS Premium está ativo e pronto para uso. Clique no botão abaixo para acessar o sistema de navegação.</p>
          
          <div style="text-align: center; margin: 30px 0;">
            <a class="main-btn" onclick="accessGPS()">
              <i class="fas fa-map-marked-alt"></i> Acessar GPS Agora
            </a>
          </div>
          
          <div class="highlight-box">
            <p><i class="fas fa-info-circle"></i> Dica: Use o GPS diariamente para maximizar seus rendimentos!</p>
          </div>
        </div>
      </div>

      <div class="divider"></div>
      
      <a class="main-btn" onclick="showPayment()" id="purchase-btn">
        <i class="fas fa-wallet"></i> Adquirir AVZ para GPS Premium
      </a>

      <div class="divider"></div>
    </div>
  </main>

  <!-- Modal de Login/Registro -->
  <div class="modal" id="auth-modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeAuthModal()">&times;</span>
      <h2 class="section-title">Acessar Sistema</h2>
      
      <div class="auth-tabs">
        <div class="auth-tab active" onclick="switchAuthTab('login')">Entrar</div>
        <div class="auth-tab" onclick="switchAuthTab('register')">Cadastrar</div>
      </div>
      
      <div class="auth-form">
        <div id="login-form" class="auth-form-content active">
          <div class="form-group">
            <label for="login-email">Email:</label>
            <input type="email" id="login-email" placeholder="Seu email cadastrado">
          </div>
          
          <div class="form-group">
            <label for="login-password">Senha:</label>
            <input type="password" id="login-password" placeholder="Sua senha">
          </div>
          
          <button class="calculate-btn" onclick="login()">
            <i class="fas fa-sign-in-alt"></i> Entrar
          </button>
          
          <div class="form-footer">
            <p>Esqueceu sua senha? <a href="#" style="color: var(--gold);">Clique aqui</a></p>
          </div>
        </div>
        
        <div id="register-form" class="auth-form-content">
          <div class="form-group">
            <label for="register-name">Nome Completo:</label>
            <input type="text" id="register-name" placeholder="Seu nome completo">
          </div>
          
          <div class="form-group">
            <label for="register-email">Email:</label>
            <input type="email" id="register-email" placeholder="Seu melhor email">
          </div>
          
          <div class="form-group">
            <label for="register-phone">Telefone:</label>
            <input type="tel" id="register-phone" placeholder="(11) 99999-9999">
          </div>
          
          <div class="form-group">
            <label for="register-password">Senha:</label>
            <input type="password" id="register-password" placeholder="Crie uma senha segura">
          </div>
          
          <div class="form-group">
            <label for="register-confirm">Confirmar Senha:</label>
            <input type="password" id="register-confirm" placeholder="Digite a senha novamente">
          </div>
          
          <button class="calculate-btn" onclick="register()">
            <i class="fas fa-user-plus"></i> Criar Conta
          </button>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <p>© 2025 AVZ PropTech. Todos os direitos reservados.</p>
    <p>Transformando o futuro através da tecnologia e sustentabilidade.</p>
  </footer>

  <script>
    // Configuração do Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyA7WQiZgCVhr35Zc-hTJAtIT897YhIgUE0",
      authDomain: "gps-clientes-avz.firebaseapp.com",
      projectId: "gps-clientes-avz",
      storageBucket: "gps-clientes-avz.appspot.com",
      messagingSenderId: "357751876641",
      appId: "SEU_APP_ID_AQUI" // Substitua pelo seu App ID
    };

    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const auth = firebase.auth();
    
    // Variáveis globais
    let currentUser = null;
    let selectedPaymentMethod = '';
    let contributionValue = 0;
    
    // Verificar estado de autenticação
    auth.onAuthStateChanged((user) => {
      if (user) {
        currentUser = user;
        document.getElementById('login-link').style.display = 'none';
        document.getElementById('dashboard-link').style.display = 'inline-block';
        document.getElementById('logout-link').style.display = 'inline-block';
        document.getElementById('purchase-btn').style.display = 'inline-block';
        
        // Carregar dados do usuário
        loadUserData(user.uid);
      } else {
        currentUser = null;
        document.getElementById('login-link').style.display = 'inline-block';
        document.getElementById('dashboard-link').style.display = 'none';
        document.getElementById('logout-link').style.display = 'none';
        document.getElementById('purchase-btn').style.display = 'none';
        document.getElementById('dashboard').style.display = 'none';
      }
    });
    
    // Funções de autenticação
    function showAuthModal() {
      document.getElementById('auth-modal').style.display = 'flex';
    }
    
    function closeAuthModal() {
      document.getElementById('auth-modal').style.display = 'none';
    }
    
    function switchAuthTab(tab) {
      document.querySelectorAll('.auth-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.auth-form-content').forEach(c => c.classList.remove('active'));
      
      document.querySelector(`.auth-tab:nth-child(${tab === 'login' ? '1' : '2'})`).classList.add('active');
      document.getElementById(`${tab}-form`).classList.add('active');
    }
    
    function login() {
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;
      
      if (!email || !password) {
        alert('Por favor, preencha todos os campos.');
        return;
      }
      
      auth.signInWithEmailAndPassword(email, password)
        .then((userCredential) => {
          closeAuthModal();
          alert('Login realizado com sucesso!');
        })
        .catch((error) => {
          alert('Erro ao fazer login: ' + error.message);
        });
    }
    
    function register() {
      const name = document.getElementById('register-name').value;
      const email = document.getElementById('register-email').value;
      const phone = document.getElementById('register-phone').value;
      const password = document.getElementById('register-password').value;
      const confirm = document.getElementById('register-confirm').value;
      
      if (!name || !email || !phone || !password || !confirm) {
        alert('Por favor, preencha todos os campos.');
        return;
      }
      
      if (password !== confirm) {
        alert('As senhas não coincidem.');
        return;
      }
      
      auth.createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const user = userCredential.user;
          
          // Salvar dados adicionais do usuário
          return db.collection('users').doc(user.uid).set({
            name: name,
            email: email,
            phone: phone,
            createdAt: new Date(),
            status: 'active'
          });
        })
        .then(() => {
          closeAuthModal();
          alert('Conta criada com sucesso!');
        })
        .catch((error) => {
          alert('Erro ao criar conta: ' + error.message);
        });
    }
    
    function logout() {
      auth.signOut()
        .then(() => {
          alert('Logout realizado com sucesso.');
        })
        .catch((error) => {
          alert('Erro ao fazer logout: ' + error.message);
        });
    }
    
    function loadUserData(uid) {
      db.collection('users').doc(uid).get()
        .then((doc) => {
          if (doc.exists) {
            const userData = doc.data();
            document.getElementById('user-name').textContent = userData.name;
            document.getElementById('user-email').textContent = userData.email;
            document.getElementById('user-id').textContent = uid.substring(0, 6).toUpperCase();
            
            // Verificar se tem assinatura ativa
            checkUserSubscription(uid);
          }
        })
        .catch((error) => {
          console.error('Erro ao carregar dados:', error);
        });
    }
    
    function checkUserSubscription(uid) {
      db.collection('subscriptions')
        .where('userId', '==', uid)
        .where('status', '==', 'active')
        .get()
        .then((querySnapshot) => {
          if (!querySnapshot.empty) {
            document.getElementById('user-status').textContent = 'Ativo';
            document.getElementById('user-status').className = 'status-badge status-active';
            document.getElementById('dashboard').style.display = 'block';
            document.getElementById('purchase-btn').style.display = 'none';
            
            // Carregar dados da assinatura
            const subscription = querySnapshot.docs[0].data();
            document.getElementById('available-balance').textContent = formatCurrency(subscription.balance || 0);
            document.getElementById('total-earnings').textContent = formatCurrency(subscription.totalEarnings || 0);
            document.getElementById('total-km').textContent = (subscription.totalKm || 0) + ' KM';
          } else {
            document.getElementById('user-status').textContent = 'Inativo';
            document.getElementById('user-status').className = 'status-badge status-pending';
            document.getElementById('dashboard').style.display = 'none';
          }
        })
        .catch((error) => {
          console.error('Erro ao verificar assinatura:', error);
        });
    }
    
    // Funções da calculadora
    function calculateEarnings() {
      const contribution = parseFloat(document.getElementById('contribution-value').value);
      const usageDays = parseInt(document.getElementById('usage-days').value);
      
      if (!contribution || contribution < 100 || !usageDays || usageDays < 1 || usageDays > 7) {
        alert('Por favor, informe um valor mínimo de R$ 100,00 e entre 1-7 dias de uso.');
        return;
      }
      
      contributionValue = contribution;
      
      // Cálculos de projeção
      const monthlyReturn = contribution * (0.02 + (usageDays * 0.005)); // 2% + 0.5% por dia de uso
      const totalReturn = monthlyReturn * 6;
      const returnPercentage = ((totalReturn / contribution) * 100).toFixed(2);
      
      // Atualizar a interface
      document.getElementById('contribution-display').textContent = formatCurrency(contribution);
      document.getElementById('monthly-return').textContent = formatCurrency(monthlyReturn);
      document.getElementById('total-return').textContent = formatCurrency(totalReturn);
      document.getElementById('return-percentage').textContent = `${returnPercentage}%`;
      document.getElementById('payment-value').textContent = formatCurrency(contribution);
      
      // Animar a barra de progresso
      let progress = 0;
      const progressBar = document.getElementById('progress-bar');
      const progressText = document.getElementById('progress-text');
      const progressInterval = setInterval(() => {
        progress += 1;
        progressBar.style.width = `${progress}%`;
        progressText.textContent = `${progress}%`;
        
        if (progress >= returnPercentage) {
          clearInterval(progressInterval);
        }
      }, 30);
      
      // Mostrar a caixa de resultados
      document.getElementById('result-box').style.display = 'block';
    }
    
    function showTerms() {
      if (!currentUser) {
        alert('Por favor, faça login primeiro.');
        showAuthModal();
        return;
      }
      
      document.getElementById('terms-container').style.display = 'block';
      document.getElementById('terms-container').scrollIntoView({ behavior: 'smooth' });
    }
    
    function acceptTerms() {
      document.getElementById('accept-terms-btn').disabled = true;
      document.getElementById('accept-terms-btn').innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processando...';
      
      // Simular processamento
      setTimeout(() => {
        document.getElementById('terms-container').style.display = 'none';
        document.getElementById('payment-container').style.display = 'block';
        document.getElementById('payment-container').scrollIntoView({ behavior: 'smooth' });
        document.getElementById('accept-terms-btn').disabled = false;
        document.getElementById('accept-terms-btn').innerHTML = '<i class="fas fa-check-circle"></i> Aceitar Termos e Desbloquear';
      }, 2000);
    }
    
    function showPayment() {
      if (!currentUser) {
        alert('Por favor, faça login primeiro.');
        showAuthModal();
        return;
      }
      
      if (contributionValue === 0) {
        alert('Por favor, calcule primeiro sua antecipação.');
        showCalculator();
        return;
      }
      
      document.getElementById('payment-container').style.display = 'block';
      document.getElementById('payment-container').scrollIntoView({ behavior: 'smooth' });
    }
    
    function selectPayment(method) {
      selectedPaymentMethod = method;
      document.querySelectorAll('.payment-option').forEach(opt => opt.classList.remove('selected'));
      document.querySelectorAll('.payment-form').forEach(form => form.style.display = 'none');
      
      event.currentTarget.classList.add('selected');
      document.getElementById('selected-payment').textContent = 
        method === 'pix' ? 'PIX' : method === 'credit' ? 'Cartão de Crédito' : 'Boleto';
      
      document.getElementById(`${method}-payment`).style.display = 'block';
    }
    
    function simulatePayment(method) {
      if (!selectedPaymentMethod) {
        alert('Por favor, selecione uma forma de pagamento.');
        return;
      }
      
      // Simular processamento de pagamento
      alert(`Simulando pagamento via ${method.toUpperCase()}...`);
      
      // Registrar a transação no Firebase
      db.collection('transactions').add({
        userId: currentUser.uid,
        value: contributionValue,
        method: method,
        status: 'completed',
        date: new Date(),
        type: 'gps_premium'
      })
      .then(() => {
        // Criar/atualizar assinatura
        return db.collection('subscriptions').doc(currentUser.uid).set({
          userId: currentUser.uid,
          value: contributionValue,
          status: 'active',
          activatedAt: new Date(),
          balance: contributionValue * 0.1, // Saldo inicial de 10%
          totalEarnings: 0,
          totalKm: 0
        }, { merge: true });
      })
      .then(() => {
        alert('Pagamento processado com sucesso! GPS Premium ativado.');
        document.getElementById('payment-container').style.display = 'none';
        showDashboard();
      })
      .catch((error) => {
        console.error('Erro ao processar pagamento:', error);
        alert('Erro ao processar pagamento. Tente novamente.');
      });
    }
    
    function showDashboard() {
      if (!currentUser) {
        alert('Por favor, faça login primeiro.');
        showAuthModal();
        return;
      }
      
      document.getElementById('dashboard').style.display = 'block';
      document.getElementById('dashboard').scrollIntoView({ behavior: 'smooth' });
    }
    
    function accessGPS() {
      alert('Redirecionando para o GPS Premium...');
      // Em um cenário real, isso redirecionaria para a página do GPS
      window.location.href = 'gps.html'; // Esta seria a página separada do GPS
    }
    
    function showCalculator() {
      document.getElementById('calculator').scrollIntoView({ behavior: 'smooth' });
    }
    
    function formatCurrency(value) {
      return 'R$ ' + value.toFixed(2).replace('.', ',');
    }
  </script>
</body>
</html>
