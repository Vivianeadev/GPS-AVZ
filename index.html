<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AVZ PropTech - GPS com Antecipação de Recebíveis</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root {
      --black: #0a0a0a; --dark-black: #000000;
      --gold: #d4af37; --light-gold: #f4e4bc;
      --rose-gold: #e8b4b8; --white: #ffffff;
      --green: #4caf50; --red: #f44336;
      --rose-shadow: rgba(232, 180, 184, 0.5);
    }
    body {
      font-family: 'Inter', sans-serif;
      background: linear-gradient(135deg, #000 0%, #111 50%, #000 100%);
      color: var(--white); 
      display: flex; 
      flex-direction: column;
      align-items: center; 
      min-height: 100vh; 
      padding: 20px;
    }
    header { 
      width: 100%; 
      padding: 15px 0; 
      display: flex; 
      justify-content: center;
      background: rgba(0,0,0,0.6); 
      position: sticky; 
      top: 0; 
      z-index: 10; 
    }
    nav { 
      display: flex; 
      gap: 15px; 
      flex-wrap: wrap; 
      justify-content: center; 
      align-items: center;
    }
    nav a { 
      color: var(--white); 
      text-decoration: none; 
      font-weight: 500; 
      transition: 0.3s; 
      cursor: pointer; 
      padding: 8px 12px;
      border-radius: 6px;
    }
    nav a:hover { 
      color: var(--gold); 
      background: rgba(212, 175, 55, 0.1);
      box-shadow: 0 0 10px var(--rose-shadow);
    }
    h1 { 
      font-family: 'Playfair Display', serif; 
      font-size: 2.5rem; 
      margin: 20px 0;
      background: linear-gradient(135deg, var(--gold), var(--rose-gold));
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent; 
      text-align: center;
    }
    p.subtitle { 
      font-size: 1.2rem; 
      color: rgba(255,255,255,0.8); 
      margin-bottom: 30px; 
      text-align: center;
      max-width: 600px;
      line-height: 1.5;
    }
    .main-btn { 
      display: inline-block; 
      background: linear-gradient(135deg, var(--gold), var(--light-gold));
      color: var(--black); 
      font-size: 1.2rem; 
      font-weight: bold; 
      padding: 15px 35px;
      border-radius: 50px; 
      text-decoration: none; 
      margin-bottom: 30px; 
      transition: 0.3s; 
      cursor: pointer;
      box-shadow: 0 8px 20px var(--rose-shadow); 
      text-align: center;
    }
    .main-btn:hover { 
      transform: translateY(-3px); 
      box-shadow: 0 12px 28px var(--rose-shadow), 0 0 15px var(--rose-shadow); 
    }
    .divider { 
      width: 80%; 
      max-width: 600px;
      height: 2px; 
      margin: 20px auto;
      background: linear-gradient(90deg, var(--rose-gold), var(--gold), var(--rose-gold));
      border-radius: 2px; 
    }
    footer { 
      margin-top: 40px; 
      padding: 15px 0; 
      font-size: 0.85rem; 
      color: rgba(255,255,255,0.6); 
      text-align: center; 
      width: 100%;
    }

    /* Conteúdo Principal */
    .content {
      text-align: left;
      max-width: 1000px;
      width: 100%;
      margin: 20px 0;
    }

    .hero-section {
      text-align: center;
      padding: 40px 20px;
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      border: 1px solid var(--gold);
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }

    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      color: var(--gold);
      margin: 25px 0 15px 0;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(212, 175, 55, 0.3);
    }
    
    .section-content {
      margin-bottom: 25px;
      line-height: 1.6;
    }
    
    .section-content p {
      margin-bottom: 15px;
      color: rgba(255, 255, 255, 0.85);
    }
    
    .highlight-box {
      background: rgba(212, 175, 55, 0.1);
      border-left: 4px solid var(--gold);
      padding: 15px 20px;
      margin: 20px 0;
      border-radius: 0 8px 8px 0;
    }

    /* Como Funciona */
    .how-it-works {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin: 30px 0;
    }
    
    .step-card {
      flex: 1;
      min-width: 250px;
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 20px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      text-align: center;
    }
    
    .step-number {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--gold), var(--light-gold));
      color: var(--black);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 15px;
      font-weight: bold;
    }
    
    .step-title {
      font-weight: 600;
      color: var(--gold);
      margin-bottom: 10px;
    }

    /* Calculadora de Antecipação */
    .calculator {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin: 30px 0;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: var(--light-gold);
    }
    
    .form-group input {
      width: 100%;
      padding: 12px 15px;
      border-radius: 8px;
      border: 1px solid #444;
      background: #222;
      color: white;
      font-size: 1rem;
      transition: all 0.3s;
    }
    
    .form-group input:focus {
      outline: none;
      border-color: var(--rose-gold);
      box-shadow: 0 0 10px var(--rose-shadow);
    }
    
    .calculate-btn {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, var(--gold), var(--light-gold));
      color: var(--black);
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1.1rem;
      box-shadow: 0 6px 15px var(--rose-shadow);
      margin-bottom: 20px;
    }
    
    .calculate-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px var(--rose-shadow);
    }
    
    .result-box {
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 10px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      text-align: center;
    }
    
    .result-value {
      font-size: 1.5rem;
      font-weight: bold;
      color: var(--light-gold);
      margin: 10px 0;
    }

    /* Termos de Uso */
    .terms-container {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin: 30px 0;
      max-height: 200px;
      overflow-y: auto;
    }
    
    .terms-text {
      font-size: 0.9rem;
      color: rgba(255, 255, 255, 0.7);
      line-height: 1.5;
    }

    /* Layout Principal */
    main {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 1200px;
    }

    /* Informações de Resgate */
    .withdrawal-info {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin: 30px 0;
    }
    
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    
    .info-card {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      padding: 20px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      text-align: center;
    }
    
    .info-card h3 {
      color: var(--gold);
      margin-bottom: 15px;
    }
    
    .warning-box {
      background: rgba(244, 67, 54, 0.1);
      border-left: 4px solid var(--red);
      padding: 15px 20px;
      margin: 20px 0;
      border-radius: 0 8px 8px 0;
    }
    
    .benefits-list {
      list-style-type: none;
      margin: 20px 0;
    }
    
    .benefits-list li {
      padding: 10px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
    }
    
    .benefits-list li i {
      color: var(--gold);
      margin-right: 10px;
    }
    
    .progress-container {
      width: 100%;
      height: 20px;
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      margin: 20px 0;
      overflow: hidden;
    }
    
    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--gold), var(--rose-gold));
      border-radius: 10px;
      width: 0%;
      transition: width 0.5s ease;
    }
    
    .info-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .info-row:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }

    /* Modal de Login/Registro */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 100;
      justify-content: center;
      align-items: center;
    }
    
    .modal-content {
      background: rgba(30, 30, 30, 0.95);
      border-radius: 15px;
      padding: 30px;
      border: 2px solid var(--gold);
      width: 90%;
      max-width: 450px;
      position: relative;
    }
    
    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      color: var(--white);
      font-size: 1.5rem;
      cursor: pointer;
    }
    
    .auth-form {
      margin-top: 20px;
    }
    
    .auth-tabs {
      display: flex;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(212, 175, 55, 0.3);
    }
    
    .auth-tab {
      padding: 10px 20px;
      cursor: pointer;
      opacity: 0.7;
      transition: 0.3s;
    }
    
    .auth-tab.active {
      opacity: 1;
      border-bottom: 2px solid var(--gold);
      color: var(--gold);
    }
    
    .auth-form-content {
      display: none;
    }
    
    .auth-form-content.active {
      display: block;
    }
    
    .form-footer {
      margin-top: 20px;
      text-align: center;
      font-size: 0.9rem;
    }

    /* Pagamento */
    .payment-container {
      background: rgba(30, 30, 30, 0.8);
      border-radius: 15px;
      padding: 25px;
      border: 1px solid var(--gold);
      margin: 30px 0;
      display: none;
    }
    
    .payment-options {
      display: flex;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }
    
    .payment-option {
      flex: 1;
      min-width: 120px;
      padding: 15px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      border-radius: 10px;
      text-align: center;
      cursor: pointer;
      transition: 0.3s;
    }
    
    .payment-option:hover, .payment-option.selected {
      background: rgba(212, 175, 55, 0.1);
      border-color: var(--gold);
    }
    
    .payment-form {
      margin-top: 20px;
      display: none;
    }

    .card-element {
      background: #222;
      padding: 12px 15px;
      border-radius: 8px;
      border: 1px solid #444;
      margin-bottom: 20px;
    }

    /* Dashboard */
    .dashboard {
      display: none;
      width: 100%;
    }
  </style>
</head>
<body>
  <header>
    <nav>
      <a style="color: var(--gold);"><i class="fas fa-map-marked-alt"></i> AVZ PROPTECH</a>
      <div class="client-info" style="display: none;">Cliente: AVZ400988</div>
      <a onclick="showAuthModal()" id="login-link"><i class="fas fa-user"></i> Login | Cadastrar </a>
      <a onclick="showDashboard()" id="dashboard-link" style="display: none;"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
      <a onclick="logout()" id="logout-link" style="display: none;"><i class="fas fa-sign-out-alt"></i> Sair</a>
    </nav>
  </header>
  
  <main>
    <h1>GPS Premium AVZ</h1>
    <p class="subtitle">Antecipe seus recebíveis e ganhe dinheiro com a sua rota. Uma plataforma <strong>inovadora</strong> e <strong>segura</strong>.</p>

    <div id="hero-section" class="hero-section" style="display: block;">
      <h2>Desbloqueie seu Potencial de Ganhos</h2>
      <p class="section-content">Faça login ou cadastre-se para acessar a calculadora de antecipação e começar a ganhar com o GPS Premium AVZ.</p>
      <a class="main-btn" onclick="showAuthModal()"> Começar Agora <i class="fas fa-arrow-right"></i></a>
    </div>

    <div class="user-info-section" style="display: none;">
      <h2 class="section-title">Bem-vindo(a), <span id="user-name">Usuário</span>!</h2>
      <p>ID de Cliente: <strong id="user-id">000000</strong></p>
      <div class="highlight-box">
        <p><strong>Status:</strong> <span id="user-status">Inativo</span></p>
      </div>
    </div>

    <div class="content">

      <h2 class="section-title">Como Funciona</h2>
      <div class="how-it-works">
        <div class="step-card">
          <div class="step-number">1</div>
          <div class="step-title">Calcule sua Antecipação</div>
          <p>Informe seus dados e veja quanto poderá receber.</p>
        </div>
        <div class="step-card">
          <div class="step-number">2</div>
          <div class="gpsavz.html">Desbloqueie o GPS</div>
          <p>Concorde com os termos e desbloqueie o sistema.</p>
        </div>
        <div class="step-card">
          <div class="step-number">3</div>
          <div class="step-title">Use e Ganhe</div>
          <p>Use o GPS diariamente e acumule rendimentos.</p>
        </div>
        <div class="step-card">
          <div class="step-number">4</div>
          <div class="step-title">Resgate seus Ganhos</div>
          <p>Resgate a partir de R$ 100,00 a qualquer momento.</p>
        </div>
      </div>
      <div class="divider"></div>

      <h2 class="section-title">Calculadora de Antecipação</h2>
      <div class="calculator" id="calculator" style="display: none;">
        <div class="form-group">
          <label for="contribution-value">Valor da Contribuição (mínimo R$ 100,00):</label>
          <input type="number" id="contribution-value" placeholder="Ex: 500.00" min="100">
        </div>
        <div class="form-group">
          <label for="usage-days">Dias de Uso do GPS por Semana (1-7):</label>
          <input type="number" id="usage-days" placeholder="Ex: 5" min="1" max="7">
        </div>
        <button class="calculate-btn" onclick="calculateEarnings()">
          <i class="fas fa-calculator"></i> Calcular Projeção de Ganhos
        </button>
        <div class="result-box" id="result-box" style="display: none;">
          <h3>Sua Projeção de Ganhos</h3>
          <div class="info-row">
            <span>Valor Contribuído:</span>
            <span id="contribution-display">R$ 100.00</span>
          </div>
          <div class="info-row">
            <span>Retorno Mensal Estimado:</span>
            <span id="monthly-return">R$ 3.00</span>
          </div>
          <div class="info-row">
            <span>Retorno Total Estimado (6 meses):</span>
            <span id="total-return">R$ 18.00</span>
          </div>
          <div class="info-row">
            <span>Porcentagem de Retorno:</span>
            <span id="return-percentage">18%</span>
          </div>
          <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
            <span class="progress-text" id="progress-text">18%</span>
          </div>
        </div>
      </div>
      <div class="divider" id="divider-1" style="display: none;"></div>

      <h2 class="section-title" id="terms-title" style="display: none;">Termos de Uso e Desbloqueio</h2>
      <div class="terms-container" id="terms-container" style="display: none;">
        <p class="terms-text">
          Ao aceitar, você concorda em utilizar o GPS da AVZ PropTech para fins de monitoramento de rotas e contribuição para a otimização logística de projetos sustentáveis. A antecipação de recebíveis será creditada diariamente com base não uso do aplicativo. O valor mínimo para resgate é de R$ 100,00. A AVZ PropTech se reserva o direito de auditar o uso do aplicativo para garantir a legitimidade da contribuição. Qualquer uso indevido resultará na suspensão imediata da conta e na perda dos recebíveis acumulados.
        </p>
        <div class="form-group">
          <input type="checkbox" id="terms-checkbox">
          <label for="terms-checkbox" style="display: inline; margin-left: 10px;">Eu li e concordo com os Termos de Uso</label>
        </div>
        <button class="calculate-btn" onclick="aceitarTermos()"> Concordo e Desbloquear GPS </button>
      </div>
      <div class="divider" id="divider-2" style="display: none;"></div>

      <h2 class="section-title" id="payment-title" style="display: none;">Adquirir AVZ para GPS Premium</h2>
      <div class="payment-container" id="payment-container" style="display: none;">
        <div class="highlight-box">
          <p>O valor para desbloqueio do GPS Premium é de <strong>R$ 1.000,00</strong>.</p>
        </div>
        <p>Escolha a forma de pagamento:</p>
        <div class="payment-options">
          <div class="payment-option selected" onclick="selectPayment('pix')">
            <i class="fas fa-qrcode"></i>
            <p>PIX</p>
          </div>
          <div class="payment-option" onclick="selectPayment('card')">
            <i class="fas fa-credit-card"></i>
            <p>Cartão de Crédito</p>
          </div>
        </div>
        <div class="payment-form" id="pix-form" style="display: block;">
          <p>Chave PIX: <strong>99.999.999/0001-99</strong></p>
          <div class="warning-box">
            <p><strong>Aviso:</strong> O pagamento via PIX é instantâneo. Após a confirmação, seu GPS será desbloqueado em até 10 minutos.</p>
          </div>
          <button class="calculate-btn" onclick="simulatePayment()"> <i class="fas fa-check-circle"></i> Simular Pagamento </button>
        </div>
        <div class="payment-form" id="card-form" style="display: none;">
          <div class="warning-box">
            <p><strong>Simulação:</strong> A função de cartão de crédito não está ativa no momento. Clique no botão abaixo para simular a conclusão do pagamento e acessar o dashboard.</p>
          </div>
          <button class="calculate-btn" onclick="simulatePayment()"> <i class="fas fa-check-circle"></i> Simular Pagamento </button>
        </div>
      </div>
      <div class="divider" id="divider-3" style="display: none;"></div>

      <h2 class="section-title" id="dashboard-title" style="display: none;">Seu Dashboard</h2>
      <div class="dashboard" id="dashboard" style="display: none;">
        <div class="hero-section">
          <h2>Seus Rendimentos Acumulados</h2>
          <p class="subtitle">Acompanhe seu progresso e faça resgates.</p>
          <div class="result-box">
            <h3>Valor Acumulado</h3>
            <span class="result-value" id="accumulated-earnings">R$ 0.00</span>
          </div>
        </div>
        <div class="info-grid">
          <div class="info-card">
		  <a href="2_GPS.html" class="main-btn" style="margin-top: 20px;">
  <i class="fas fa-map-marked-alt"></i> Acessar GPS Premium
</a>
            <h3>Ganhos Diários</h3>
            <p>Média de <strong>R$ 0,50</strong> por dia de uso do GPS.</p>
          </div>
          <div class="info-card">
            <h3>Último Resgate</h3>
            <p>Ainda não há resgates. <br>Valor mínimo: <strong>R$ 100,00</strong></p>
          </div>
        </div>
        <div class="divider"></div>
        <h2 class="section-title">Benefícios do GPS Premium</h2>
        <ul class="benefits-list">
          <li><i class="fas fa-route"></i> Otimização de rotas com IA.</li>
          <li><i class="fas fa-dollar-sign"></i> Antecipação de recebíveis diária.</li>
          <li><i class="fas fa-chart-line"></i> Acompanhamento de rendimentos em tempo real.</li>
          <li><i class="fas fa-shield-alt"></i> Segurança avançada para seus dados.</li>
        </ul>
      </div>

    </div>
  </main>

  <div id="auth-modal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeAuthModal()">×</span>
      <h2 class="section-title" style="margin-top: 0;">Entrar ou Cadastrar</h2>
      <div class="auth-tabs">
        <div class="auth-tab active" id="login-tab" onclick="showAuthForm('login')">Entrar</div>
        <div class="auth-tab" id="register-tab" onclick="showAuthForm('register')">Cadastrar</div>
      </div>
      <div class="auth-form-content active" id="login-form">
        <p>Acesse sua conta para continuar.</p>
        <div class="form-group">
          <label for="login-email">Email:</label>
          <input type="email" id="login-email" placeholder="seu-email@exemplo.com">
        </div>
        <div class="form-group">
          <label for="login-password">Senha:</label>
          <input type="password" id="login-password" placeholder="••••••••">
        </div>
        <button class="calculate-btn" onclick="login()">Entrar</button>
      </div>
      <div class="auth-form-content" id="register-form">
        <p>Crie sua conta para começar.</p>
        <div class="form-group">
          <label for="register-name">Nome Completo:</label>
          <input type="text" id="register-name" placeholder="Seu Nome Completo">
        </div>
        <div class="form-group">
          <label for="register-email">Email:</label>
          <input type="email" id="register-email" placeholder="seu-email@exemplo.com">
        </div>
        <div class="form-group">
          <label for="register-password">Senha:</label>
          <input type="password" id="register-password" placeholder="Mínimo 6 caracteres">
        </div>
        <button class="calculate-btn" onclick="register()">Cadastrar</button>
      </div>
    </div>
  </div>

  <script>
    let currentUser = null;
    let token = localStorage.getItem('avz_token');
    
    // Simulação de usuário logado para teste
    if (token) {
      try {
        currentUser = JSON.parse(atob(token));
        // Se já está logado e ativo, mostrar dashboard
        if (currentUser.isActive) {
          showDashboard();
        } else {
          // Se está logado mas não ativo, mostrar calculadora
          document.getElementById('calculator').style.display = 'block';
          document.getElementById('divider-1').style.display = 'block';
        }
      } catch (error) {
        console.error('Erro ao verificar autenticação:', error);
        token = null;
        localStorage.removeItem('avz_token');
        showAuthModal();
      }
    } else {
      showAuthModal();
    }
    
    // Função para atualizar a interface
    function updateUI() {
      if (currentUser) {
        document.getElementById('login-link').style.display = 'none';
        document.getElementById('dashboard-link').style.display = 'inline-block';
        document.getElementById('logout-link').style.display = 'inline-block';
        document.querySelector('.client-info').style.display = 'block';
        
        // Esconder a seção inicial
        document.getElementById('hero-section').style.display = 'none';
        document.querySelector('.user-info-section').style.display = 'block';

        // Mostrar calculadora apenas se o usuário estiver logado
        document.getElementById('calculator').style.display = 'block';
        document.getElementById('divider-1').style.display = 'block';
        
        // Ocultar outras seções
        document.getElementById('terms-container').style.display = 'none';
        document.getElementById('terms-title').style.display = 'none';
        document.getElementById('divider-2').style.display = 'none';
        document.getElementById('payment-container').style.display = 'none';
        document.getElementById('payment-title').style.display = 'none';
        document.getElementById('divider-3').style.display = 'none';
        document.getElementById('dashboard').style.display = 'none';
        document.getElementById('dashboard-title').style.display = 'none';

        // Atualizar informações do usuário no dashboard - COM VERIFICAÇÃO DE SEGURANÇA
        document.getElementById('user-name').textContent = currentUser.name || 'Usuário';
        document.getElementById('user-id').textContent = (currentUser.id || '000000').toString().padStart(6, '0');
        document.getElementById('user-status').textContent = currentUser.isActive ? 'Ativo' : 'Inativo';

        // Rolar para a calculadora
        window.scrollTo(0, document.getElementById('calculator').offsetTop);

      } else {
        document.getElementById('login-link').style.display = 'inline-block';
        document.getElementById('dashboard-link').style.display = 'none';
        document.getElementById('logout-link').style.display = 'none';
        document.querySelector('.client-info').style.display = 'none';
        document.getElementById('hero-section').style.display = 'block';
        document.querySelector('.user-info-section').style.display = 'none';

        // Esconder todas as seções
        document.getElementById('calculator').style.display = 'none';
        document.getElementById('divider-1').style.display = 'none';
        document.getElementById('terms-container').style.display = 'none';
        document.getElementById('terms-title').style.display = 'none';
        document.getElementById('divider-2').style.display = 'none';
        document.getElementById('payment-container').style.display = 'none';
        document.getElementById('payment-title').style.display = 'none';
        document.getElementById('divider-3').style.display = 'none';
        document.getElementById('dashboard').style.display = 'none';
        document.getElementById('dashboard-title').style.display = 'none';
      }
    }
    
    // Chamar a função inicial
    updateUI();

    // Funções de Autenticação (simuladas)
    function showAuthModal() {
      document.getElementById('auth-modal').style.display = 'flex';
    }
    
    function closeAuthModal() {
      document.getElementById('auth-modal').style.display = 'none';
    }

    function showAuthForm(formId) {
      const forms = document.querySelectorAll('.auth-form-content');
      forms.forEach(form => form.classList.remove('active'));
      document.getElementById(formId + '-form').classList.add('active');
      
      const tabs = document.querySelectorAll('.auth-tab');
      tabs.forEach(tab => tab.classList.remove('active'));
      document.getElementById(formId + '-tab').classList.add('active');
    }

    function login() {
      const email = document.getElementById('login-email').value;
      const password = document.getElementById('login-password').value;

      if (email === 'teste@avz.com' && password === '123456') {
        const user = {
          name: 'João Victor',
          email: 'joao.victor@avz.com',
          id: 400988,
          isActive: false, // Inicialmente Inativo
          earnings: 0
        };
        const token = btoa(JSON.stringify(user));
        localStorage.setItem('avz_token', token);
        currentUser = user;
        closeAuthModal();
        updateUI();
      } else {
        alert('Email ou senha incorretos.');
      }
    }
    
    function register() {
      const name = document.getElementById('register-name').value;
      const email = document.getElementById('register-email').value;
      const password = document.getElementById('register-password').value;
      
      if (name && email && password.length >= 6) {
        const user = {
          name,
          email,
          id: Math.floor(Math.random() * 900000) + 100000,
          isActive: false, // Inicialmente Inativo
          earnings: 0
        };
        const token = btoa(JSON.stringify(user));
        localStorage.setItem('avz_token', token);
        currentUser = user;
        closeAuthModal();
        updateUI();
        alert('Cadastro realizado com sucesso! Agora faça login para continuar.');
      } else {
        alert('Por favor, preencha todos os campos corretamente.');
      }
    }

    function logout() {
      localStorage.removeItem('avz_token');
      currentUser = null;
      updateUI();
      window.scrollTo(0, 0);
    }
    
    // Funções do fluxo principal
    function calculateEarnings() {
      const contributionValue = parseFloat(document.getElementById('contribution-value').value);
      const usageDays = parseInt(document.getElementById('usage-days').value);
      
      if (isNaN(contributionValue) || contributionValue < 100 || isNaN(usageDays) || usageDays < 1 || usageDays > 7) {
        alert("Por favor, insira valores válidos.");
        return;
      }
      
      const monthlyReturnRate = 0.03; 
      const totalReturnRate = 0.18; 
      
      const monthlyReturn = contributionValue * monthlyReturnRate;
      const totalReturn = contributionValue * totalReturnRate;
      const returnPercentage = totalReturnRate * 100;

      // Exibir resultados
      document.getElementById('contribution-display').textContent = `R$ ${contributionValue.toFixed(2)}`;
      document.getElementById('monthly-return').textContent = `R$ ${monthlyReturn.toFixed(2)}`;
      document.getElementById('total-return').textContent = `R$ ${totalReturn.toFixed(2)}`;
      document.getElementById('return-percentage').textContent = `${returnPercentage.toFixed(0)}%`;
      document.getElementById('progress-bar').style.width = `${returnPercentage.toFixed(0)}%`;
      document.getElementById('progress-text').textContent = `${returnPercentage.toFixed(0)}%`;

      document.getElementById('result-box').style.display = 'block';

      // Mostrar a seção de termos após o cálculo
      document.getElementById('terms-title').style.display = 'block';
      document.getElementById('terms-container').style.display = 'block';
      document.getElementById('divider-2').style.display = 'block';
      window.scrollTo(0, document.getElementById('terms-title').offsetTop);
    }

    function aceitarTermos() {
      const termsAccepted = document.getElementById('terms-checkbox').checked;
      
      if (termsAccepted) {
        // Mostrar a seção de pagamento
        document.getElementById('payment-title').style.display = 'block';
        document.getElementById('payment-container').style.display = 'block';
        document.getElementById('divider-3').style.display = 'block';
        window.scrollTo(0, document.getElementById('payment-title').offsetTop);
      } else {
        alert("Você precisa aceitar os termos para continuar.");
      }
    }
    
    function simulatePayment() {
      alert("Pagamento simulado com sucesso! Seu GPS Premium foi desbloqueado.");
      currentUser.isActive = true;
      localStorage.setItem('avz_token', btoa(JSON.stringify(currentUser)));
      updateUI();
      showDashboard();
    }
    
    function showDashboard() {
      if (!currentUser || !currentUser.isActive) {
        alert("Por favor, faça login e adquira o GPS Premium para acessar o dashboard.");
        return;
      }
      
      // Esconder todas as seções
      document.getElementById('hero-section').style.display = 'none';
      document.querySelector('.user-info-section').style.display = 'none';
      document.getElementById('calculator').style.display = 'none';
      document.getElementById('divider-1').style.display = 'none';
      document.getElementById('terms-container').style.display = 'none';
      document.getElementById('terms-title').style.display = 'none';
      document.getElementById('divider-2').style.display = 'none';
      document.getElementById('payment-container').style.display = 'none';
      document.getElementById('payment-title').style.display = 'none';
      document.getElementById('divider-3').style.display = 'none';
      
      // Mostrar dashboard
      document.getElementById('dashboard').style.display = 'block';
      document.getElementById('dashboard-title').style.display = 'block';
      window.scrollTo(0, document.getElementById('dashboard-title').offsetTop);

      // Atualizar info no dashboard
      document.getElementById('accumulated-earnings').textContent = `R$ ${currentUser.earnings.toFixed(2)}`;
    }
    
    function selectPayment(option) {
      document.querySelectorAll('.payment-option').forEach(opt => opt.classList.remove('selected'));
      document.querySelector(`.payment-option.${option}`).classList.add('selected');
      
      document.getElementById('pix-form').style.display = 'none';
      document.getElementById('card-form').style.display = 'none';
      document.getElementById(`${option}-form`).style.display = 'block';
    }

    // Fechar modal ao clicar fora dele
    window.onclick = function(event) {
      const modal = document.getElementById('auth-modal');
      if (event.target === modal) {
        closeAuthModal();
      }
    }
    
  </script>

  <footer>
    <p>© 2025 AVZ PropTech - Todos os direitos reservados.</p>
  </footer>

</body>
</html>
